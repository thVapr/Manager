{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../shared\";\nimport * as i3 from \"../shared/article-helpers/article-list.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../shared/show-authed.directive\";\nfunction HomeComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19)(2, \"h1\", 20);\n    i0.ɵɵtext(3, \"conduit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"A place to share your \");\n    i0.ɵɵelementStart(6, \"i\");\n    i0.ɵɵtext(7, \"Angular 2\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \" knowledge.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction HomeComponent_a_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 21);\n    i0.ɵɵlistener(\"click\", function HomeComponent_a_23_Template_a_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const tag_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.setListTo(\"all\", {\n        tag: tag_r2\n      }));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const tag_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", tag_r2, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"active\": a0\n  };\n};\nexport class HomeComponent {\n  constructor(router, tagsService, userService) {\n    this.router = router;\n    this.tagsService = tagsService;\n    this.userService = userService;\n    this.listConfig = {\n      type: 'all',\n      filters: {}\n    };\n    this.tags = [];\n    this.tagsLoaded = false;\n  }\n  ngOnInit() {\n    this.userService.isAuthenticated.subscribe(authenticated => {\n      this.isAuthenticated = authenticated;\n      // set the article list accordingly\n      if (authenticated) {\n        this.setListTo('feed');\n      } else {\n        this.setListTo('all');\n      }\n    });\n    this.tagsService.getAll().subscribe(tags => {\n      this.tags = tags;\n      this.tagsLoaded = true;\n    });\n  }\n  setListTo(type = '', filters = {}) {\n    // If feed is requested but user is not authenticated, redirect to login\n    if (type === 'feed' && !this.isAuthenticated) {\n      this.router.navigateByUrl('/login');\n      return;\n    }\n    // Otherwise, set the list object\n    this.listConfig = {\n      type: type,\n      filters: filters\n    };\n  }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.TagsService), i0.ɵɵdirectiveInject(i2.UserService));\n};\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home-page\"]],\n  decls: 28,\n  vars: 14,\n  consts: [[1, \"home-page\"], [\"class\", \"banner\", 4, \"appShowAuthed\"], [1, \"container\", \"page\"], [1, \"row\"], [1, \"col-md-9\"], [1, \"feed-toggle\"], [1, \"nav\", \"nav-pills\", \"outline-active\"], [1, \"nav-item\"], [1, \"nav-link\", 3, \"ngClass\", \"click\"], [1, \"nav-item\", 3, \"hidden\"], [1, \"nav-link\", \"active\"], [1, \"ion-pound\"], [3, \"limit\", \"config\"], [1, \"col-md-3\"], [1, \"sidebar\"], [1, \"tag-list\"], [\"class\", \"tag-default tag-pill\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"hidden\"], [1, \"banner\"], [1, \"container\"], [1, \"logo-font\"], [1, \"tag-default\", \"tag-pill\", 3, \"click\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, HomeComponent_div_1_Template, 9, 0, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"ul\", 6)(7, \"li\", 7)(8, \"a\", 8);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_8_listener() {\n        return ctx.setListTo(\"feed\");\n      });\n      i0.ɵɵtext(9, \" Your Feed \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"li\", 7)(11, \"a\", 8);\n      i0.ɵɵlistener(\"click\", function HomeComponent_Template_a_click_11_listener() {\n        return ctx.setListTo(\"all\");\n      });\n      i0.ɵɵtext(12, \" Global Feed \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"li\", 9)(14, \"a\", 10);\n      i0.ɵɵelement(15, \"i\", 11);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(17, \"app-article-list\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 13)(19, \"div\", 14)(20, \"p\");\n      i0.ɵɵtext(21, \"Popular Tags\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 15);\n      i0.ɵɵtemplate(23, HomeComponent_a_23_Template, 2, 1, \"a\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"div\", 17);\n      i0.ɵɵtext(25, \" Loading tags... \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 17);\n      i0.ɵɵtext(27, \" No tags are here... yet. \");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"appShowAuthed\", false);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, ctx.listConfig.type === \"feed\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c0, ctx.listConfig.type === \"all\" && !ctx.listConfig.filters.tag));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !ctx.listConfig.filters.tag);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.listConfig.filters.tag, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"limit\", 10)(\"config\", ctx.listConfig);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tags);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.tagsLoaded);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !ctx.tagsLoaded || ctx.tags.length > 0);\n    }\n  },\n  dependencies: [i3.ArticleListComponent, i4.NgClass, i4.NgForOf, i5.ShowAuthedDirective],\n  styles: [\".nav-link[_ngcontent-%COMP%] {\\n  cursor:pointer;\\n}\\n\\n.tag-pill[_ngcontent-%COMP%]{\\n  cursor:pointer;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi5uYXYtbGluayB7XG4gIGN1cnNvcjpwb2ludGVyO1xufVxuXG4udGFnLXBpbGx7XG4gIGN1cnNvcjpwb2ludGVyO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAEEA,+BAA2C;IAEjBA,uBAAO;IAAAA,iBAAK;IAClCA,yBAAG;IAAAA,sCAAsB;IAAAA,yBAAG;IAAAA,yBAAS;IAAAA,iBAAI;IAACA,2BAAU;IAAAA,iBAAI;;;;;;IAwClDA,6BAEgC;IAD7BA;MAAA;MAAA;MAAA;MAAA,OAASA,gCAAU,KAAK;QAAAC;MAAA,EAAa;IAAA,EAAC;IAEtCD,YACH;IAAAA,iBAAI;;;;IADDA,eACH;IADGA,uCACH;;;;;;;;ACvCZ,OAAM,MAAOE,aAAa;EACxBC,YACUC,MAAc,EACdC,WAAwB,EACxBC,WAAwB;IAFxB,WAAM,GAANF,MAAM;IACN,gBAAW,GAAXC,WAAW;IACX,gBAAW,GAAXC,WAAW;IAIrB,eAAU,GAAsB;MAC9BC,IAAI,EAAE,KAAK;MACXC,OAAO,EAAE;KACV;IACD,SAAI,GAAkB,EAAE;IACxB,eAAU,GAAG,KAAK;EARf;EAUHC,QAAQ;IACN,IAAI,CAACH,WAAW,CAACI,eAAe,CAACC,SAAS,CACvCC,aAAa,IAAI;MAChB,IAAI,CAACF,eAAe,GAAGE,aAAa;MAEpC;MACA,IAAIA,aAAa,EAAE;QACjB,IAAI,CAACC,SAAS,CAAC,MAAM,CAAC;OACvB,MAAM;QACL,IAAI,CAACA,SAAS,CAAC,KAAK,CAAC;;IAEzB,CAAC,CACF;IAED,IAAI,CAACR,WAAW,CAACS,MAAM,EAAE,CACxBH,SAAS,CAACI,IAAI,IAAG;MAChB,IAAI,CAACA,IAAI,GAAGA,IAAI;MAChB,IAAI,CAACC,UAAU,GAAG,IAAI;IACxB,CAAC,CAAC;EACJ;EAEAH,SAAS,CAACN,OAAe,EAAE,EAAEC,UAAkB,EAAE;IAC/C;IACA,IAAID,IAAI,KAAK,MAAM,IAAI,CAAC,IAAI,CAACG,eAAe,EAAE;MAC5C,IAAI,CAACN,MAAM,CAACa,aAAa,CAAC,QAAQ,CAAC;MACnC;;IAGF;IACA,IAAI,CAACC,UAAU,GAAG;MAACX,IAAI,EAAEA,IAAI;MAAEC,OAAO,EAAEA;IAAO,CAAC;EAClD;;AA7CWN,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV1BvB,8BAAuB;MAErBA,8DAKM;MAENA,8BAA4B;MASbA;QAAA,OAASwB,cAAU,MAAM,CAAC;MAAA,EAAC;MAC3BxB,2BACH;MAAAA,iBAAI;MAENA,8BAAqB;MAGhBA;QAAA,OAASwB,cAAU,KAAK,CAAC;MAAA,EAAC;MAC1BxB,8BACH;MAAAA,iBAAI;MAENA,8BAAwD;MAEpDA,yBAAyB;MAACA,aAC5B;MAAAA,iBAAI;MAKVA,wCAAwE;MAC1EA,iBAAM;MAENA,gCAAsB;MAEfA,6BAAY;MAAAA,iBAAI;MAEnBA,gCAAsB;MACpBA,6DAII;MACNA,iBAAM;MAENA,gCAA2B;MACzBA,kCACF;MAAAA,iBAAM;MAENA,gCAA+C;MAC7CA,2CACF;MAAAA,iBAAM;;;MAxDOA,eAAoB;MAApBA,qCAAoB;MAe1BA,eAAkD;MAAlDA,qFAAkD;MAOlDA,eAA4E;MAA5EA,mHAA4E;MAK5DA,eAAkC;MAAlCA,oDAAkC;MAEzBA,eAC5B;MAD4BA,2DAC5B;MAKYA,eAAY;MAAZA,0BAAY;MAQPA,eAAO;MAAPA,kCAAO;MAOvBA,eAAqB;MAArBA,uCAAqB;MAIrBA,eAAyC;MAAzCA,+DAAyC","names":["i0","tag","HomeComponent","constructor","router","tagsService","userService","type","filters","ngOnInit","isAuthenticated","subscribe","authenticated","setListTo","getAll","tags","tagsLoaded","navigateByUrl","listConfig","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\vaprm\\Projects\\Manager\\ManagerView\\src\\app\\home\\home.component.html","C:\\Users\\vaprm\\Projects\\Manager\\ManagerView\\src\\app\\home\\home.component.ts"],"sourcesContent":["<div class=\"home-page\">\n\n  <div class=\"banner\" *appShowAuthed=\"false\">\n    <div class=\"container\">\n      <h1 class=\"logo-font\">conduit</h1>\n      <p>A place to share your <i>Angular 2</i> knowledge.</p>\n    </div>\n  </div>\n\n  <div class=\"container page\">\n    <div class=\"row\">\n\n      <div class=\"col-md-9\">\n        <div class=\"feed-toggle\">\n          <ul class=\"nav nav-pills outline-active\">\n            <li class=\"nav-item\">\n              <a class=\"nav-link\"\n                 [ngClass]=\"{'active': listConfig.type === 'feed'}\"\n                 (click)=\"setListTo('feed')\">\n                 Your Feed\n              </a>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link\"\n                 [ngClass]=\"{'active': listConfig.type === 'all' && !listConfig.filters.tag}\"\n                 (click)=\"setListTo('all')\">\n                 Global Feed\n              </a>\n            </li>\n            <li class=\"nav-item\" [hidden]=\"!listConfig.filters.tag\">\n              <a class=\"nav-link active\">\n                <i class=\"ion-pound\"></i> {{ listConfig.filters.tag }}\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <app-article-list [limit]=\"10\" [config]=\"listConfig\"></app-article-list>\n      </div>\n\n      <div class=\"col-md-3\">\n        <div class=\"sidebar\">\n          <p>Popular Tags</p>\n\n          <div class=\"tag-list\">\n            <a *ngFor=\"let tag of tags\"\n               (click)=\"setListTo('all', {tag: tag})\"\n               class=\"tag-default tag-pill\">\n               {{ tag }}\n            </a>\n          </div>\n\n          <div [hidden]=\"tagsLoaded\">\n            Loading tags...\n          </div>\n\n          <div [hidden]=\"!tagsLoaded || tags.length > 0\">\n            No tags are here... yet.\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { ArticleListConfig, TagsService, UserService } from '../shared';\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n  constructor(\n    private router: Router,\n    private tagsService: TagsService,\n    private userService: UserService\n  ) {}\n\n  isAuthenticated: boolean;\n  listConfig: ArticleListConfig = {\n    type: 'all',\n    filters: {}\n  };\n  tags: Array<string> = [];\n  tagsLoaded = false;\n\n  ngOnInit() {\n    this.userService.isAuthenticated.subscribe(\n      (authenticated) => {\n        this.isAuthenticated = authenticated;\n\n        // set the article list accordingly\n        if (authenticated) {\n          this.setListTo('feed');\n        } else {\n          this.setListTo('all');\n        }\n      }\n    );\n\n    this.tagsService.getAll()\n    .subscribe(tags => {\n      this.tags = tags;\n      this.tagsLoaded = true;\n    });\n  }\n\n  setListTo(type: string = '', filters: Object = {}) {\n    // If feed is requested but user is not authenticated, redirect to login\n    if (type === 'feed' && !this.isAuthenticated) {\n      this.router.navigateByUrl('/login');\n      return;\n    }\n\n    // Otherwise, set the list object\n    this.listConfig = {type: type, filters: filters};\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}